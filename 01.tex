\documentclass[a4paper,12pt,numbers=noenddot]{scrreport}

\usepackage[german]{datetime2}
\usepackage[onehalfspacing]{setspace}
\usepackage[utf8]{inputenc}
\usepackage{amsmath, amsfonts, amssymb, amsthm}
\usepackage{mathrsfs}

\usepackage{scrlayer-scrpage}
\renewcommand*{\chapterpagestyle}{scrheadings}
\clearpairofpagestyles

\ohead{\normalfont \today}
\chead{\normalfont Algebraic Automata Theory}
\ihead{\normalfont \rightmark}

\ofoot{\normalfont Seite~\pagemark}
\cfoot{\normalfont CAU Kiel - Technische Fakult√§t}
\ifoot{\normalfont Eric Hotho, Klaas Pelzer}

\KOMAoptions{headsepline=true,footsepline=true}
\renewcommand*{\chapterheadstartvskip}{\vspace*{-.4cm}}
\renewcommand*{\chapterheadendvskip}{\vspace{.5cm}}

\setlength{\parindent}{0pt}

\setkomafont{chapter}{\LARGE}
\setkomafont{section}{\Large}
\setkomafont{subsection}{\large}
\setkomafont{subsubsection}{\normalsize}
\setkomafont{paragraph}{\normalsize}
\setkomafont{subparagraph}{\small}
\usepackage[htt]{hyphenat}
\usepackage[german]{babel}
\setcounter{chapter}{0}

\begin{document}
\automark{section}
\automark{chapter}
\chapter{}
\section{}
We show that $R^{-1} \subseteq Y \times X$ is a partial function if $R \subseteq X \times Y$ is injective by proofing $R^{-1}$ satisfies the right uniquess condition
\begin{align*}
    (y,x), (y,x') \in R^{-1} \Rightarrow x = x'.
\end{align*}
Since R is injective the following holds true:
\begin{align*}
    (x,y), (x',y') \in R | x \neq x' \Rightarrow y \neq y'\label{eq0}\tag{1}
\end{align*}
Thus 
\begin{align*}
    (y,x), (y,x') \in R^{-1} | (x,y), (x', y) \in R  \Rightarrow x = x'
\end{align*}
because $x \neq x'$ contradicts \eqref{eq0}.
\qed

\section{}
$\emptyset \subseteq \emptyset \times Y$:
First we show that $\emptyset \subseteq \emptyset \times Y$ is a partial function.
By definition $$(x,y), (x',y') \in R \Rightarrow y = y'$$ the empty relation is right-unique because we have no elements in the relation.
Further we show totalness with $dom(R) = \emptyset$.
By Definition
$$dom(R) = \{a \in A | \exists a' \in A: (a,a') \in R\}$$
the domain of the empty relation is also empty due missing elements and therfore $dom(R) = \emptyset = \emptyset$.

\vspace{1cm}
$\emptyset \subseteq X \times \emptyset$: This relation is also a partial function because the relation is also empty.
But it is not total because the preimage is $X$ and the domain is $\emptyset$.
Therefore
$$dom(R) = \emptyset \neq X$$
\qed

\section{}
Let $(S, \cdot)$, $(T, *)$ be two semigroups and $f: S \rightarrow T$ be a partial semigroup homomorphismus, then we have $f(S) \leq_{sg} T$ with
\begin{align}
    f(s) * f(s') = f(s, s') \label{eq1}\tag{1}
\end{align}
$f(S)$ is a subsemigroup of $T$ iff $f(S)$ is closed under $*$:
$$\forall x,y \in f(S) : x * y \in f(S)$$
Since $f$ is a semigroup homomorphismus \eqref{eq1} holds true, thus
\begin{align}
    \exists a,b \in S : x * y = f(a) * f(b) = f(a \cdot b) \label{eq2}\tag{2}
\end{align}
and since $(S, \cdot)$ is a semigroup, it is closed under $\cdot$, hence
$$a \cdot b \in S$$
and with this \eqref{eq2} holds true and therefore the initial implication of Lemma 2.49.
\qed

\section{}

To prove that $\sim\textsubscript{k} \subseteq~ \Sigma^* \times \Sigma^*$ is a congruence relation for some given $k \in \mathcal{N}$ we first show that given two words $u, v \in \Sigma*$ which are $k-Simon-congruent$ they are also $(k-1)-Simon-congruent$ for $k \in \mathcal{N}$ with $ScatFact\textsubscript{k-1}(u) = ScatFact\textsubscript{k-1}(v)$.

We prove this claim using a prove by contradiction, therefore, we assume that we are given two words $u, v \in \Sigma^*$ which are $k-Simon-congruent$, however, not $(k-1)-Simon-congruent$.
This means that the $ScatFact\textsubscript{k-1}(u) \neq ScatFact\textsubscript{k-1}(v)$. This means that there exists at least one object in WLOG. $ScatFact\textsubscript{k-1}(u)$ which does not exist in $ScatFact\textsubscript{k-1}(v)$, lets call this element $w$.
Since, $ScatFact\textsubscript{k}(u)$ contains all ScatterFactors of $u$ this means that there exists at least one $w' \in ScatFact\textsubscript{k}(u)$ which contains $w$ (either $wx = w' \lor xw = w' ~|~ x \in u \land |x| = 1$).
However, $ScatFact\textsubscript{k}(u) = ScatFact\textsubscript{k}(v)$ and therefore, $w' \in ScatFact\textsubscript{k}(v)$.
Per definition of the ScatFact\textsubscript{k} set, $ScatFact\textsubscript{k-1}(v)$ has to contain all ScatterFactors of v of length $k-1$, therefore also $w$ since $w'$ exists in $v$ and by removing $x$ from $w'$ $w$ is a ScatterFactor of $v$.
This concludes the prove by contradiction.

To now prove that $\sim\textsubscript{k}$ is a congruence relation for some $k$, we need to show that for $u,v,z \in \Sigma*, u \sim\textsubscript{k} v \implies uz \sim\textsubscript{k} vz$ to prove the right congruence.
Since, $v$ and $u$ are k-simon-congruent we know that they have the same ScatterFactors for all $n \in k$.
Since, we concatenate $z$ to both words from the same side, all new ScatterFactors that can be formed, can be formed for both words, because all possible prefixes that can exist in $u$ or $v$ are the same.
The prove for left congruence is symmetrical, which concludes the prove.
\qed


\chapter{}
\section{}

We can find a state machine homomorphism (SMH) for $M$ and $M'$ which is monomorphic but not epimorphic or isomorphic. To prove this conjecture we will first show that there can not exist a epimorphic SMH. For a SMH $f$ to be epimorphic it has to be surjective.
This means that given $f=(\alpha, \beta)$:
\begin{equation}
    \alpha : Q \rightarrow Q' \land \beta : \Sigma \rightarrow \Sigma'
\end{equation}
the range of $\alpha$ and $\beta$ have to be equal to $Q'$ and $\Sigma'$ respectively.

Lets assume that $\alpha$ maps to $Q'$ and $\beta$ to $\Sigma'$. This means that we have to map the states of $Q$ to the states of $Q'$. The state $r\textsubscript{1}$ is isolated whilst the states $r\textsubscript{2}$ and $r\textsubscript{3}$ form a cyclic state machine with stern with stern length and cycle length of $1$. Therefore, we would need to find a similar structure in $Q$ to map the states to $Q'$. If we look for these structures in $M$ we can find an isolated state $q\textsubscript{4}$ when we disregard $c$. However, we can only find a cyclic state machine with stern if we either disregard $a,c$ or $b,c$ since the combination of $b$ and $c$ allows us to always move between the states of $q\textsubscript{i}$ $| i \in {3}$. Thus, we can not find a mapping of $\beta$ to $\Sigma'$, since, we need to omit either at least $2$ out of $3$ elements of $\Sigma$ to be able to represent the structure of $M$, therefore, either $\alpha$ or $\beta$ can not be surjective.

To prove that $M$ and $M'$ are monomorphic we only have to provide a state machine homomorphism that is injective. For this we map $a$ onto $a'$ and $q\textsubscript{4}$ onto $r\textsubscript{1}$. $\alpha$ is injective because there only exists a single element in the relation, therefore, there can only exists a one-to-one mapping. For $\beta$ this is the same case as only the tuple $(q\textsubscript{4}, r\textsubscript{1})$ exists in $\beta$. 
Now we need to show that
\begin{equation}
\forall q \in Q \land \forall a \in \Sigma : \alpha(q\delta\textsubscript{a}) \subseteq (\alpha(q))\delta'\textsubscript{$\beta(a)$}
\end{equation}

Since, there only exist one element with one state we can apply the transition function for the element $a$ on the state $q\textsubscript{4}$ and then apply $\alpha$. $\delta\textsubscript{a}$ on $q\textsubscript{4}$ results in $q\textsubscript{4}$, and if we then apply $\alpha$ this results in $r\textsubscript{1}$. If we first apply $\alpha$ on $q\textsubscript{4}$ this results in $r\textsubscript{1}$. And if we then apply $\delta'\textsubscript{$\beta(a)$}$ on $r\textsubscript{1}$ it stays in $r\textsubscript{1}$ which proves that it is a state machine morphism. 

This concludes that $M$ and $M'$ are monomorphic.
\qed

\end{document}
