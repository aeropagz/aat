\documentclass[a4paper,12pt,numbers=noenddot]{scrreport}

\usepackage[german]{datetime2}
\usepackage[onehalfspacing]{setspace}
\usepackage[utf8]{inputenc}
\usepackage{amsmath, amsfonts, amssymb, amsthm}
\usepackage{mathrsfs}

\usepackage{scrlayer-scrpage}
\renewcommand*{\chapterpagestyle}{scrheadings}
\clearpairofpagestyles

\ohead{\normalfont \today}
\chead{\normalfont Algebraic Automata Theory}
\ihead{\normalfont \rightmark}

\ofoot{\normalfont Seite~\pagemark}
\cfoot{\normalfont CAU Kiel - Technische Fakult√§t}
\ifoot{\normalfont Eric Hotho, Klaas Pelzer}

\KOMAoptions{headsepline=true,footsepline=true}
\renewcommand*{\chapterheadstartvskip}{\vspace*{-.4cm}}
\renewcommand*{\chapterheadendvskip}{\vspace{.5cm}}

\setlength{\parindent}{0pt}

\setkomafont{chapter}{\LARGE}
\setkomafont{section}{\Large}
\setkomafont{subsection}{\large}
\setkomafont{subsubsection}{\normalsize}
\setkomafont{paragraph}{\normalsize}
\setkomafont{subparagraph}{\small}
\usepackage[htt]{hyphenat}
\usepackage[german]{babel}
\setcounter{chapter}{3}

\def\lsk{\left<}
\def\rsk{\right>}
\DeclareMathOperator{\mmod}{mod}

\begin{document}
\automark{section}
\automark{chapter}

\setcounter{chapter}{4}
\chapter{}
\section{}
We have $M = (Q, \Sigma, \delta)$ and $\pi = \{H_i\}_{i \in I}$ a admissible partion of $Q$.
If $M$ is complete then for all $i \in I$ and for all $a \in \Sigma$ there exists \textbf{exactly one} partion such that for $j \in I$ $H_i\delta_a \subseteq H_j$.
By definition of $\pi$ (Lemma 3.48) there exists \textbf{at least one} $j \in I$ with $H_i\delta_a \subseteq H_j$.
Notice $H_i\delta_a \neq \emptyset$ because $M$ is complete.

We show that there only exists \textbf{exactly one} $j \in I$.
Suppose there exists $j,k \in I$ with $H_i\delta_a \subseteq H_{j,k}$ for all $a \in \Sigma$ and $j \neq k$.
We choose an arbitrary $q \in H_i$ then the following must hold:
\begin{align*}
    q\delta_a &= q_j \in H_j \\
    q\delta_a &= q_k \in H_k \\
\end{align*}
Notice $q_j \neq q_k$ because $H_j \cap H_k = \emptyset$.
This is a contraction because $q\delta_a$ is not right unique anymore.

\section{}
We proove for a transformation semigroup transformation $(Q,S)$ which is irreducable that for all $q \in Q$ either $|qS| = 1$  or $qS = Q$.
First we determine $qS$ for both trivial partitions.
Assume $|qS| = 1$ for any $q \in Q$. This means we find one arbitray but fixed $q' \in Q$ such that $qS = q'$.
Moreover, $q = H_i$ and $q' = H_j$ with $i,j \in I$, it is the trival partition of singleton classes.
Now assume $qS = Q$ for any $q \in Q$. This means for each $s \in S$ with $qs = q'$ we map to a different $q'$ such that all $q' = Q$.
Thus, $qS$ is the trivial partition of $Q$ itself.


Suppose $|qS| > 1 \land qS \neq Q$.
Suppose we miss one $q' \in Q$ then $qs$ would not build a trivial partion.

% $\pi = \{Q\}$:
% Notice we have only one equivalence class $H_1 = Q$.
% Hence, all states are related by the admissible relation $R$.
% Thus, $(q,q') \in R | \forall q,q' \in Q$ and also $(qs, q's) \in R$ for all $s \in S$ with $qs,q's \neq \emptyset$.
% Therefore $H_1s = H_1$ for all $s \in S$.


$\pi = {[q] |\ \forall q \in Q}$:
\begin{itemize}
    \item cases for only one admissible partition and for $|Q|$ admissible partitions
    \item one equivalence class $\pi = H_1$ $\implies |qS| = 1$: 
        \begin{itemize}
            \item all states are related, $(q,q') \in R | \forall q,q' \in Q$
            \item $q \in H_1$ for all $q \in Q$  and therefore $Q = H_1 = [q]_R$
            \item $H_1s = H_1$
            \item $qs = q'$ for all $q,q' \in H_1$
            \item suppose $q' \notin H_i$, thus $q \notin Q$ and therefore not included in the transformation semi group
        \end{itemize}
    \item $|Q|$ equivalence classes $\implies qS = Q$:
        \begin{itemize}
            \item $|Q|$ equivalence classes implies each state has own equivalence classes, $R = \{(q_i, q_i) | i \in [|Q|\}$
            \item $qs = q$ for all $q \in Q$ and $s \in S$ with $q \in H_i, i \in [|Q|]$
            \item suppose $qs = q'$ with $q \neq q'$ then $(q, q') \in R$ which contradicts first statement
        \end{itemize}
\end{itemize}


\section{}
\begin{enumerate}
    \item Since, $Aut(M)$ is the set of all state machine automorphisms, this means that $f$ is a bijective function on $Q \times Q$, therefore, it only permutates the states of M. As, $\Sigma$ is  mapped to $\Sigma$ by the identity function, the transactions $\delta$ of $M$ do not change.\\
    Given Lemma 2.89, we know that given a set $Q$, $(S_Q, \circ, id_Q)$ is a group. We have already established that $Aut(M)$ only permutates states of $M$, and as $Aut(M)$ includes 'all' state machine automorphisms, it also includes the identity function.
    This concludes the proof, that $Aut(M)$ is a group.
    \qed
    \item Assume, that there exists a $q \in Q$ such that $f(q) = q$. 
\end{enumerate}

\section{}
\end{document}

